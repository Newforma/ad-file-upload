<input
  type="file"
  adFileSelect
  [uploader]="uploader"
  multiple
/>
<div
  class="col-md-6"
  style="margin-bottom: 40px"
>
  <h3>Upload queue</h3>
  <p>Queue length: {{ uploader?.queue?.length }}</p>
  <table class="table">
    <thead>
    <tr>
      <th width="50%">Name</th>
      <th>Progress</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of uploader.queue">
      <td><strong>{{ item?.file?.name }}</strong></td>
      <td class="text-center">
        <span *ngIf="item.isSuccess">Success</span>
        <span *ngIf="item.isCancel">Cancel</span>
        <span *ngIf="item.isError">Error</span>
      </td>
      <td nowrap>
        <button
          type="button"
          class="btn btn-success btn-xs"
          (click)="item.upload()"
          [disabled]="item.isReady || item.isUploading || item.isSuccess"
        >
          Upload
        </button>
        <button
          type="button"
          class="btn btn-warning btn-xs"
          (click)="item.cancel()"
          [disabled]="!item.isUploading"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-danger btn-xs"
          (click)="item.remove()"
        >
          Remove
        </button>
      </td>
    </tr>
    </tbody>
  </table>
  <div>
    <div>
      Queue progress:
      <div
        class="progress"
        style="margin-bottom: 40px"
      >
        <div
          class="progress-bar"
          role="progressbar"
          [ngStyle]="{ 'width': uploader.progress + '%' }"
        >
        </div>
      </div>
    </div>
    <button
      type="button"
      class="btn btn-success btn-s"
      (click)="uploader.uploadAll()"
      [disabled]="!uploader.getNotUploadedItems().length"
    >
      Upload all
    </button>
    <button
      type="button"
      class="btn btn-warning btn-s"
      (click)="uploader.cancelAll()"
      [disabled]="!uploader.isUploading"
    >
      Cancel all
    </button>
    <button
      type="button"
      class="btn btn-danger btn-s"
      (click)="uploader.clearQueue()"
      [disabled]="!uploader.queue.length"
    >
      Remove all
    </button>
  </div>
</div>

